<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.Jellabo.Team_miniPj_Backend.project.ProjectMapper">

	<select id="isCreator" parameterType="ProjectDataDTO"
		resultType="Integer">
		SELECT COUNT(*) FROM projects WHERE code = #{code,
		jdbcType=INTEGER}
		AND creatoremail = #{creatoremail, jdbcType=VARCHAR};
	</select>

	<update id="dropReplesTable" parameterType="java.lang.String">
		${value}
	</update>

	<update id="dropCommentsTable" parameterType="java.lang.String">
		${value}
	</update>

	<update id="dropPostsTable" parameterType="java.lang.String">
		${value}
	</update>

	<delete id="deleteCategory" parameterType="Integer">
		DELETE FROM category
		WHERE code = #{code, jdbcType=INTEGER};
	</delete>

	<delete id="deleteJoinedProject" parameterType="Integer">
		DELETE FROM
		joinedprojects WHERE code = #{code, jdbcType=INTEGER};
	</delete>

	<delete id="deleteProject" parameterType="Integer">
		DELETE FROM projects
		WHERE code = #{code, jdbcType=INTEGER};
	</delete>

</mapper>